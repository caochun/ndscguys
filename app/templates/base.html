<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}人力资源管理系统{% endblock %}</title>
    <script src="https://cdn.tailwindcss.com"></script>
    {% block extra_head %}{% endblock %}
</head>
<body class="bg-gray-50">
    <nav class="bg-white shadow-sm border-b">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-16">
                <div class="flex">
                    <div class="flex-shrink-0 flex items-center">
                        <h1 class="text-xl font-bold text-gray-900">HRMS</h1>
                    </div>
                           <div class="hidden sm:ml-6 sm:flex sm:space-x-8">
                               <a href="/persons" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                                   人员管理
                               </a>
                               <a href="/employments" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                                   聘用管理
                               </a>
                               <a href="/assessments" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                                   考核管理
                               </a>
                               <a id="nav-contributions" href="/contributions" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                                   缴费与扣除
                               </a>
                               <a href="/payroll" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                                   工资管理
                               </a>
                               <a href="/project-center" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                                   项目管理
                               </a>
                               <a href="/social-security-config" class="border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700 inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium">
                                   参数配置
                               </a>
                           </div>
                </div>
            </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto py-6 sm:px-6 lg:px-8">
        {% block content %}{% endblock %}
    </main>

    {% block scripts %}{% endblock %}

    <script>
    // 如果当前页面运行在 iframe 中，则隐藏导航里的“缴费与扣除”入口，避免在 iframe 里再次打开汇总页造成嵌套
    (function () {
        try {
            if (window.self !== window.top) {
                var navContrib = document.getElementById('nav-contributions');
                if (navContrib) {
                    navContrib.style.display = 'none';
                }
            }
        } catch (e) {
            // 某些跨域场景访问 window.top 可能报错，这里静默忽略
        }
    })();
    </script>
</body>
</html>
